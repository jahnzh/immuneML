definitions:
  datasets:
    my_dataset: # user-defined dataset name
      format: OLGA
      params:
        region_type: IMGT_JUNCTION # we use the full sequence
        is_repertoire: true # we are importing a repertoire dataset
        path: . # path to the repertoires-directory
        metadata_file: metadata.csv # path to metadata
  motifs :
    seq_with_low_pgen:
      seed : CAPTALDRATWKRSPLQEQYF
      v_call : TRBV7-2
      j_call : TRBJ2-7
      mutation_position_possibilities: # possibilities for which positions in the sequence to mutate. Here, the mutations are even along the middle.
        4: 0.1
        5: 0.1
        6: 0.1
        7: 0.1
        8: 0.1
        9: 0.1
        10: 0.1
        11: 0.1
        12: 0.1
        13: 0.1
      instantiation : GappedKmer
  signals:
    signal_with_pgen_outlier:
      motifs:
        - seq_with_low_pgen
      implanting: 
        MutatedSequence:
          mutation_hamming_distance: 2
          occurrence_limit_pgen_range: # this will differ for each generated dataset
            1.0167556408918248e-11: 2
            1.671167468445542e-09: 4
            1.7699642495296634e-08: 5
            2.3559356353530645e-08: 6
          overwrite_sequences: False
      sequence_position_weights:
        0: 1

  simulations:
    my_simulation:
      my_implanting:
        signals:
          - signal_with_pgen_outlier
        dataset_implanting_rate: 0.05 # implanting in 5 percent of the repertoires
        repertoire_implanting_rate: 0.001

instructions:
  my_simulation_instruction:
    type: Simulation
    dataset: my_dataset
    simulation: my_simulation
    export_formats: [AIRR] # export the simulated dataset to these formats

